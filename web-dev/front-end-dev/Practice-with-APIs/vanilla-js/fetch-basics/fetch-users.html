<!-- Here we'll understand how to simply fetch data -->

<!-- Utilize language-specific features: Some languages offer 
     alternatives like the .catch() method on promises in JavaScript or 
     the Result pattern, which can be effective for handling asynchronous errors. -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fetch Practice</title>
</head>
<body>
  
  <button onclick="getThoseUsers()">Get Users</button>
  <div id="output"></div>
  
  <script>
    // Part 1 - Main goal: fetch user data and throw handler for error
    async function getThoseUsers() {
      try {
        const getUsers = await fetch(https://jsonplaceholder.typicode.com/users);
        const resultUsers = await getUsers.json();

        // Part 2 - Extra Credit: display the fetched user data in the HTML
        const output = document.getElementById("output");
        output.innerHTML = ""; // Second checker to clear before loading data

        resultUsers.forEach(user => {
          const p = document.createElement("p");
          p.textContent = `${user.name} (${user.email})`;
          output.appendChild(p);
      } catch (err) {
        console.log("Error occured:", err)
      }
    }
  </script>
</body>
</html>
